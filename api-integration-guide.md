# π”— μ‹¤μ  API μ—°λ™ κ°€μ΄λ“

## π“ κµ¬ν„λ API μ—°λ™

### 1. Yahoo Finance API (μ‹¤μ‹κ°„ μ£Όκ°€ λ°μ΄ν„°)
- **URL**: `/api/yahoo-finance/:symbol`
- **κΈ°λ¥**: ν•κµ­ μ£Όμ‹ μ‹¤μ‹κ°„ μ‹μ„Έ μ΅°ν
- **νΉμ§•**: 
  - ν•κµ­ μ£Όμ‹λ… μλ™ λ³€ν™ (μ‚Όμ„±μ „μ β†’ 005930.KS)
  - μ‹¤μ‹κ°„ κ°€κ²©, λ³€λ™λ¥ , κ±°λλ‰, μ‹μ¥ μƒνƒ μ κ³µ
  - μ—λ¬ μ‹ λ°±μ—… λ°μ΄ν„° μλ™ μ‚¬μ©

### 2. Gemini AI API (ν¬μ λ¦¬λ°Έλ°μ‹± μ μ•)
- **URL**: `/api/investment-advice`
- **κΈ°λ¥**: AI κΈ°λ° ν¬νΈν΄λ¦¬μ¤ λ¦¬λ°Έλ°μ‹± μ μ•
- **νΉμ§•**:
  - μ‹¤μ‹κ°„ ν¬νΈν΄λ¦¬μ¤ λ°μ΄ν„°μ™€ μ—°λ™
  - μ„ν—λ„, λ©ν‘μμµλ¥  κΈ°λ° λ§μ¶¤ μ μ•
  - μ•μ „ μ„¤μ • λ° ν”„λ΅¬ν”„νΈ μµμ ν™”

### 3. KIS API (ν•κµ­ν¬μμ¦κ¶ - μ¤€λΉ„ μ™„λ£)
- **URL**: `/api/kis-token`, `/api/kis-stock/:code`
- **κΈ°λ¥**: ν•κµ­ μ£Όμ‹ μ „λ¬Έ λ°μ΄ν„°
- **μƒνƒ**: μ„λ²„ κµ¬ν„ μ™„λ£, API ν‚¤ μ„¤μ • ν›„ μ‚¬μ© κ°€λ¥

## π€ μ‹¤μ‹κ°„ κΈ°λ¥ ν…μ¤νΈ

### ν¬νΈν΄λ¦¬μ¤ λ¶„μ„ ν…μ¤νΈ
1. **μ…λ ¥ μμ‹**:
   ```
   ν¬νΈν΄λ¦¬μ¤: μ‚Όμ„±μ „μ 10μ£Ό, μΉ΄μΉ΄μ¤ 5, λ„¤μ΄λ²„3
   ν¬μκΈμ•΅: 10000000
   ```

2. **μ‹¤μ‹κ°„ λ°μ΄ν„° νλ¦„**:
   ```
   μ‚¬μ©μ μ…λ ¥ β†’ Yahoo Finance API νΈμ¶ β†’ μ‹¤μ‹κ°„ κ°€κ²© μ΅°ν β†’ ν¬νΈν΄λ¦¬μ¤ λ¶„μ„
   ```

3. **κ²°κ³Ό ν™•μΈμ‚¬ν•­**:
   - β… μ‹¤μ‹κ°„ λ°μ΄ν„° ν‘μ‹
   - β οΈ μΌλ¶€ λ°μ΄ν„°λ§ μ‹¤μ‹κ°„ (λ‚λ¨Έμ§€λ” μ¶”μ •)
   - β λ„¤νΈμ›ν¬ μ¤λ¥ μ‹ λ°±μ—… λ°μ΄ν„° μ‚¬μ©

### AI λ¦¬λ°Έλ°μ‹± ν…μ¤νΈ
1. **μ‹¤μ  API ν‚¤ μ„¤μ • μ‹**:
   - `.env` νμΌμ— `GEMINI_API_KEY=your_key` μ¶”κ°€
   - μ™„μ „ν• AI λ¶„μ„ λ° μ μ• μ κ³µ

2. **λ°λ¨ λ¨λ“ (API ν‚¤ μ—†μ)**:
   - μ„ν—λ„λ³„ μ‚¬μ „ μ •μλ μ μ• ν‘μ‹
   - "λ°λ¨ λ¨λ“" μ•λ¦Ό ν‘μ‹

## π”§ API ν‚¤ μ„¤μ • λ°©λ²•

### 1. `.env` νμΌ μƒμ„±
```bash
cp env-example.txt .env
```

### 2. API ν‚¤ μ…λ ¥
```env
# AI λ¨λΈ
GEMINI_API_KEY=your_gemini_api_key_here

# ν•κµ­ν¬μμ¦κ¶ (μ„ νƒμ‚¬ν•­)
KIS_API_KEY=your_kis_api_key_here
KIS_API_SECRET=your_kis_api_secret_here

# μ„λ²„ μ„¤μ •
PORT=3001
NODE_ENV=development
```

### 3. μ„λ²„ μ¬μ‹μ‘
```bash
npm run dev
```

## π“ μ„±λ¥ λ¨λ‹ν„°λ§

### μ‹¤μ‹κ°„ λ©”νΈλ¦­
- **API μ‘λ‹µ μ‹κ°„**: Yahoo Finance ν‰κ·  500-1500ms
- **ν¬νΈν΄λ¦¬μ¤ λ¶„μ„**: λ³‘λ ¬ μ²λ¦¬λ΅ 3-5μ΄ λ‚΄ μ™„λ£
- **AI μ μ• μƒμ„±**: Gemini API 10-30μ΄

### μ—λ¬ ν•Έλ“¤λ§
- **λ„¤νΈμ›ν¬ μ¤λ¥**: μλ™ λ°±μ—… λ°μ΄ν„° μ‚¬μ©
- **API ν•λ„ μ΄κ³Ό**: μΊμ‹λ λ°μ΄ν„° ν™μ©
- **νƒ€μ„μ•„μ›ƒ**: μ‚¬μ©μ μΉν™”μ  μ¤λ¥ λ©”μ‹μ§€

## π― λ‹¤μ λ‹¨κ³„ κ¶μ¥μ‚¬ν•­

1. **API ν‚¤ λ°κΈ‰**:
   - [Google AI Studio](https://makersuite.google.com/app/apikey)μ—μ„ Gemini API ν‚¤ λ°κΈ‰
   - [ν•κµ­ν¬μμ¦κ¶ KIS](https://apiportal.koreainvestment.com/)μ—μ„ API ν‚¤ λ°κΈ‰ (μ„ νƒ)

2. **μΊμ‹± μ‹μ¤ν… κµ¬μ¶•**:
   - Redis μ—°λ™μΌλ΅ API νΈμ¶ μµμ ν™”
   - μ‹¤μ‹κ°„ λ°μ΄ν„° μΊμ‹ μ „λµ μλ¦½

3. **λ¨λ‹ν„°λ§ κ°•ν™”**:
   - API μ‚¬μ©λ‰ μ¶”μ 
   - μ—λ¬μ¨ λ¨λ‹ν„°λ§
   - μ‚¬μ©μ ν–‰λ™ λ¶„μ„

4. **λ³΄μ• κ°•ν™”**:
   - API ν‚¤ μ•”νΈν™” μ €μ¥
   - Rate limiting κµ¬ν„
   - μ‚¬μ©μ μΈμ¦ μ—°λ™

## π’΅ κ°λ° ν

### λ””λ²„κΉ…
- λΈλΌμ°μ € μ½μ†”μ—μ„ μ‹¤μ‹κ°„ API νΈμ¶ μƒνƒ ν™•μΈ
- Network νƒ­μ—μ„ μ‘λ‹µ μ‹κ°„ λ¨λ‹ν„°λ§
- `console.log`λ΅ λ°μ΄ν„° νλ¦„ μ¶”μ 

### ν…μ¤νΈ λ°μ΄ν„°
- μ μ•λ ¤μ§„ ν•κµ­ μ£Όμ‹λ… μ‚¬μ© (μ‚Όμ„±μ „μ, μΉ΄μΉ΄μ¤, λ„¤μ΄λ²„ λ“±)
- λ‹¤μ–‘ν• ν¬νΈν΄λ¦¬μ¤ κ·λ¨ ν…μ¤νΈ
- λ„¤νΈμ›ν¬ μ—°κ²° λκΉ€ μƒν™© μ‹λ®¬λ μ΄μ…

### μ„±λ¥ μµμ ν™”
- λ³‘λ ¬ API νΈμ¶λ΅ λ΅λ”© μ‹κ°„ λ‹¨μ¶•
- λ¶ν•„μ”ν• API νΈμ¶ λ°©μ§€
- μ‚¬μ©μ κ²½ν— μ¤‘μ‹¬μ λ΅λ”© ν‘μ‹

---

**π“ μ§€μ›**: λ¬Έμ  λ°μƒ μ‹ μ½μ†” λ΅κ·Έμ™€ ν•¨κ» λ¬Έμν•΄μ£Όμ„Έμ”.
**π”„ μ—…λ°μ΄νΈ**: μ •κΈ°μ μΌλ΅ API μ¤ν™ λ³€κ²½μ‚¬ν•­μ„ ν™•μΈν•μ„Έμ”.
